= osVodigi7


Next Version of osVodigi


== Build and Run on Docker 


----
docker build --pull -t osvodigiweb7 .
docker run --rm -it -p 8000:80 osvodigiweb7
----


----
docker images osVodigiWeb7
----

=== EF


Provider 

* Oracle Entity Framework Core 3.1
* dotnet add package Microsoft.EntityFrameworkCore.SqlServer -v 2.2.4



.migração e criar o conjunto inicial de tabelas para o modelo;
----
dotnet ef migrations add InitialMigration

dotnet ef migrations add InitialMigration --context VodigiContext --output-dir Migrations/VodigiContextSqliteMigrations

dotnet ef migrations add InitialMigration --context VodigiLogsContext --output-dir Migrations/VodigiLogsContextSqliteMigrations
----

.aplicar a migração a base de dados
----
dotnet ef database update --context VodigiContext
----


----
dotnet ef migrations remove
----

== Powershell Visual Studio

----
PM> Add-Migration InitialMigration -Context
----


----
PM> Update-Database
----

== dotnet-ef 


* https://www.nuget.org/packages/dotnet-ef

Entity Framework Core Tools for the .NET Command-Line Interface.

----
dotnet tool install --global dotnet-ef --version 7.0.2
dotnet tool install -g dotnet-ef
dotnet tool update -g dotnet-ef
----


.Enables these commonly used dotnet-ef commands: 
----
dotnet ef migrations add 
dotnet ef migrations list 
dotnet ef migrations script
dotnet ef dbcontext info
dotnet ef dbcontext scaffold 
dotnet ef database drop 
dotnet ef database update 
----


== Reference

* https://entityframeworkcore.com/providers-sqlite
* https://docs.abp.io/en/abp/latest